import { FC } from 'react';
import Head from 'next/head';

import JobOffers from '@/components/JobOffers/JobOffers';
import Nav from '@/components/nav/Nav';
import Services from '@/components/Services/Services';
import Intro from '@/components/Intro/Intro';
import HeaderHero from '@/components/HeaderHero/HeaderHero';
import ContactForm from '@/components/ContactForm/ContactForm';
import SectionReferencesTechnos from '@/components/SectionReferencesTechnos/SectionReferencesTechnos';

import { IntroType, ServicesType } from '@/types/dataTypes';

import styles from './Home.module.css';

interface HomeProps {
  introArray: IntroType[];
  servicesArray: ServicesType[];
}

const Home: FC<HomeProps> = ({ introArray, servicesArray }) => (
  <>
    <Head>
      <title>Oostaoo.com - Bienvenue</title>
      <meta content="width=device-width, initial-scale=1" name="viewport" />
      <meta name="description" content="Generated by create next app" />
      <link rel="icon" href="/favicon.ico" />
    </Head>
    <Nav />
    <main className={styles.main}>
      <div className={styles.ghostContainer} id="accueil" />
      <HeaderHero text="Trouvez le talent que vous cherchez" />
      <Intro introArray={introArray} />
      <Services servicesArray={servicesArray} />
      <SectionReferencesTechnos section="technos" />
      <SectionReferencesTechnos section="references" />
      <JobOffers />
      <HeaderHero text="Contactez-nous !" />
      <ContactForm />
    </main>
  </>
);
export default Home;

export async function getStaticProps() {
  const introData = await import('../assets/data/intro.json');
  const introArray: IntroType[] = introData.intro;

  const servicesData = await import('../assets/data/services.json');
  const servicesArray: ServicesType[] = servicesData.services;

  return {
    props: {
      introArray,
      servicesArray,
    },
  };
}
